# 難病・希少疾患支援団体検索アプリケーション

指定難病や小児慢性疾患の患者会、家族会、支援団体を網羅的に検索・収集するためのウェブアプリケーションです。

## 機能

- **疾患検索**: 2,871種類の難病・希少疾患から検索
- **類義語検索**: 表記揺れや類義語を含めた検索
- **支援団体情報**: 患者会、家族会、支援団体の情報を表示
- **データ収集**: 1日1回の自動検索によるデータ収集
- **手動データ追加**: 手動で調べた情報の追加機能
- **ウェブサイト状態追跡**: サイトの可用性履歴の追跡
- **LLM拡張機能**: ローカルLLMを使用した高精度データ収集

## システム構成

### バックエンド

- **フレームワーク**: FastAPI
- **データ処理**: Python
- **ウェブスクレイピング**: aiohttp, BeautifulSoup4
- **LLM統合**: Ollama API

### フロントエンド

- **フレームワーク**: React + TypeScript
- **ビルドツール**: Vite
- **スタイリング**: Tailwind CSS
- **状態管理**: React Hooks

## セットアップ

### 必要条件

- Python 3.10以上
- Node.js 18以上
- MacBook Pro M4 Max 128GB（LLM機能使用時）

### インストール

詳細なセットアップ手順は[Mac設定ガイド](./mac_setup_guide.md)を参照してください。

```bash
# バックエンドのセットアップ
cd backend/disease-support-backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# フロントエンドのセットアップ
cd frontend
npm install
```

### 起動方法

```bash
# バックエンドの起動
cd backend/disease-support-backend
source venv/bin/activate
uvicorn app.main_llm:app --reload --host 0.0.0.0 --port 8001

# フロントエンドの起動
cd frontend
npm run dev
```

## LLM拡張機能

ローカルLLMを使用して、ウェブスクレイピングの精度を向上させる機能を実装しています。

### 主な機能

- ウェブサイトコンテンツの高度な分析
- 団体タイプの正確な分類（患者会、家族会、支援団体）
- 組織の詳細情報の抽出（連絡先、サービス内容など）
- 検索結果の信頼度スコアリング

### 推奨モデル

- **Mistral**: バランスの取れた性能と速度（デフォルト）
- **Llama 3 (70B)**: 最高の精度（M4 Max 128GBで実行可能）
- **TinyLlama**: 軽量で高速（精度は低下）

## カテゴリーフィルタリング

以下のカテゴリー名を検索対象から除外します：

- 代謝系疾患
- 神経・筋疾患
- 循環器系疾患
- 免疫系疾患
- 皮膚・結合組織疾患
- 血液系疾患
- 腎・泌尿器系疾患
- 呼吸器系疾患
- 骨・関節系疾患
- 内分泌系疾患
- 視覚系疾患
- 聴覚・平衡機能系疾患
- 筋萎縮性側索硬化症
- 球脊髄性筋萎縮症
- 消化器系疾患
- 耳鼻科系疾患

以下の一般的な用語は検索対象に含まれます：

- 染色体または遺伝子に変化を伴う症候群
- 遺伝検査用疾患群
- 難病
- 指定難病

## ライセンス

MIT
